<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ íŠœë¸Œ ì¸ë„¤ì¼ ì—°êµ¬ì†Œ (ë°ì´í„° ì¶”ì¶œìš©)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* í…Œë§ˆ */
        :root { --main-blue:#2E4CB2; --bg-start:#F0F5FF; --bg-end:#DDE9FF; }
        body { margin:0; font-family:'Pretendard', sans-serif; background:linear-gradient(135deg, var(--bg-start), var(--bg-end)); color:#333; overflow:hidden; font-size:14px; }
        .app-container { display:flex; height:100vh; padding:15px; box-sizing:border-box; gap:15px; }
        
        /* íŒ¨ë„ */
        .control-panel { width:340px; background:#fff; padding:20px; border-radius:20px; box-shadow:0 10px 20px rgba(0,0,0,0.08); overflow-y:auto; flex-shrink:0; }
        h2 { margin-top:0; color:var(--main-blue); border-bottom:2px solid #eee; padding-bottom:10px; }
        
        .group { background:#fff; border:2px solid #E8F0FE; padding:15px; border-radius:12px; margin-bottom:15px; }
        .group-title { font-weight:bold; color:var(--main-blue); display:block; margin-bottom:10px; }
        .sub-title { font-size:0.85rem; font-weight:bold; color:#555; margin-top:15px; display:block; background:#eee; padding:5px; border-radius:4px; }

        /* ê°’ í‘œì‹œìš© ìŠ¤íƒ€ì¼ */
        .val-display { color: #E91E63; font-weight: bold; float: right; }

        input[type="range"] { width:100%; margin:8px 0; cursor:pointer; accent-color:var(--main-blue); }
        label { font-size:0.8rem; color:#666; display:block; margin-top:5px; }
        
        /* ì‘ì—…ê³µê°„ */
        .workspace { flex:1; background:rgba(255,255,255,0.6); border-radius:20px; display:flex; justify-content:center; align-items:center; overflow:auto; }
        #dualStage { position:relative; display:flex; align-items:flex-end; padding:30px; min-width:900px; min-height:600px; }

        /* í”„ë ˆì„ & ì¸ë„¤ì¼ */
        .pc-wrapper { position:relative; z-index:10; margin-right:-30px; }
        .pc-frame { background:#222; border-radius:12px 12px 0 0; padding:12px 12px 0 12px; border:3px solid #333; }
        .pc-screen { width:640px; height:400px; background:#fff; position:relative; overflow:hidden; }
        .pc-stand { width:140px; height:45px; background:#333; margin:0 auto; border-radius:0 0 10px 10px; }

        .phone-wrapper { position:relative; z-index:20; margin-bottom:-5px; }
        .phone-frame { background:#111; border-radius:36px; padding:10px; border:3px solid #444; }
        .phone-screen { width:256px; height:512px; background:#fff; border-radius:28px; position:relative; overflow:hidden; }
        .phone-notch { position:absolute; top:14px; left:50%; transform:translateX(-50%); width:70px; height:20px; background:#000; border-radius:10px; z-index:100; }

        .bg-img { position:absolute; top:0; left:0; width:100%; pointer-events:none; object-fit:cover; object-position:top; }
        .fixed-thumb { position:absolute; z-index:999; pointer-events:none; }
        .fixed-thumb img { width:100%; height:100%; border-radius:4px; object-fit:cover; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="control-panel">
        <h2>ğŸ“ ìœ„ì¹˜ ë°ì´í„° ì¶”ì¶œê¸°</h2>
        
        <div class="group">
            <span class="group-title">1. ë°°ê²½ í™•ì¸</span>
            <p style="font-size:0.8rem; color:#666;">bg-pc.png / bg-mo.png ìë™ ë¡œë“œë¨</p>
        </div>

        <div class="group">
            <span class="group-title">2. ìœ„ì¹˜ ë§ì¶”ê¸° (ì´ ìˆ«ìë¥¼ ì£¼ì„¸ìš”!)</span>
            
            <span class="sub-title">ğŸ–¥ï¸ PC ë°ì´í„°</span>
            <label>ê°€ë¡œ (Left): <span id="val_pcLeft" class="val-display">0</span></label>
            <input type="range" id="pcLeft" min="0" max="640" value="22">
            
            <label>ì„¸ë¡œ (Top): <span id="val_pcTop" class="val-display">0</span></label>
            <input type="range" id="pcTop" min="0" max="400" value="88">
            
            <label>ë„ˆë¹„ (Width): <span id="val_pcW" class="val-display">0</span></label>
            <input type="range" id="pcW" min="50" max="300" value="168">
            
            <label>ê°„ê²© (Gap): <span id="val_pcGap" class="val-display">0</span></label>
            <input type="range" id="pcGap" min="50" max="200" value="146">

            <span class="sub-title">ğŸ“± ëª¨ë°”ì¼ ë°ì´í„°</span>
            <label>ê°€ë¡œ (Left): <span id="val_moLeft" class="val-display">0</span></label>
            <input type="range" id="moLeft" min="0" max="256" value="13">
            
            <label>ì„¸ë¡œ (Top): <span id="val_moTop" class="val-display">0</span></label>
            <input type="range" id="moTop" min="0" max="600" value="100">
            
            <label>ë„ˆë¹„ (Width): <span id="val_moW" class="val-display">0</span></label>
            <input type="range" id="moW" min="50" max="256" value="230">
            
            <label>ê°„ê²© (Gap): <span id="val_moGap" class="val-display">0</span></label>
            <input type="range" id="moGap" min="100" max="400" value="240">
        </div>

        <div class="group">
            <span class="group-title">3. í…ŒìŠ¤íŠ¸ìš© ì¸ë„¤ì¼</span>
            <input type="file" id="testThumb" accept="image/*">
        </div>
    </div>

    <div class="workspace">
        <div id="dualStage">
            <div class="pc-wrapper">
                <div class="pc-frame">
                    <div class="pc-screen">
                        <img class="bg-img" src="bg-pc.png" onerror="alert('bg-pc.png íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤!')">
                        <div id="thumbPC1" class="fixed-thumb" style="background:red; opacity:0.5;"></div>
                        <div id="thumbPC2" class="fixed-thumb" style="background:blue; opacity:0.5;"></div>
                        <div id="thumbPC3" class="fixed-thumb" style="background:green; opacity:0.5;"></div>
                        <div id="thumbPC4" class="fixed-thumb" style="background:orange; opacity:0.5;"></div>
                    </div>
                    <div class="pc-chin"></div>
                </div>
                <div class="pc-stand"></div>
            </div>
            <div class="phone-wrapper">
                <div class="phone-frame">
                    <div class="phone-screen">
                        <div class="phone-notch"></div>
                        <img class="bg-img" src="bg-mo.png" onerror="alert('bg-mo.png íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤!')">
                        <div id="thumbMO1" class="fixed-thumb" style="background:red; opacity:0.5;"></div>
                        <div id="thumbMO2" class="fixed-thumb" style="background:blue; opacity:0.5;"></div>
                        <div id="thumbMO3" class="fixed-thumb" style="background:green; opacity:0.5;"></div>
                        <div id="thumbMO4" class="fixed-thumb" style="background:orange; opacity:0.5;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ë¡œë“œ
    document.getElementById('testThumb').addEventListener('change', (e) => {
        const file = e.target.files[0];
        if(file){
            const url = URL.createObjectURL(file);
            document.querySelectorAll('.fixed-thumb').forEach(el => {
                el.style.backgroundImage = `url(${url})`;
                el.style.backgroundSize = 'cover';
                el.style.opacity = '1'; // ì´ë¯¸ì§€ ë„£ìœ¼ë©´ íˆ¬ëª…ë„ í•´ì œ
            });
        }
    });

    // ìœ„ì¹˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateLayout() {
        const pcL = parseInt(document.getElementById('pcLeft').value);
        const pcT = parseInt(document.getElementById('pcTop').value);
        const pcW = parseInt(document.getElementById('pcW').value);
        const pcGap = parseInt(document.getElementById('pcGap').value);
        const pcH = pcW * 9 / 16;

        const moL = parseInt(document.getElementById('moLeft').value);
        const moT = parseInt(document.getElementById('moTop').value);
        const moW = parseInt(document.getElementById('moW').value);
        const moGap = parseInt(document.getElementById('moGap').value);
        const moH = moW * 9 / 16;

        // ìˆ«ì í‘œì‹œ ì—…ë°ì´íŠ¸ (ì´ê²Œ ë°•ì‚¬ë‹˜ê»˜ í•„ìš”í•œ ì •ë³´!)
        document.getElementById('val_pcLeft').innerText = pcL;
        document.getElementById('val_pcTop').innerText = pcT;
        document.getElementById('val_pcW').innerText = pcW;
        document.getElementById('val_pcGap').innerText = pcGap;

        document.getElementById('val_moLeft').innerText = moL;
        document.getElementById('val_moTop').innerText = moT;
        document.getElementById('val_moW').innerText = moW;
        document.getElementById('val_moGap').innerText = moGap;

        // ì‹¤ì œ ì ìš©
        for(let i=1; i<=4; i++) {
            const pcEl = document.getElementById(`thumbPC${i}`);
            pcEl.style.left = `${pcL}px`;
            pcEl.style.top = `${pcT + (i-1)*pcGap}px`;
            pcEl.style.width = `${pcW}px`;
            pcEl.style.height = `${pcH}px`;

            const moEl = document.getElementById(`thumbMO${i}`);
            moEl.style.left = `${moL}px`;
            moEl.style.top = `${moT + (i-1)*moGap}px`;
            moEl.style.width = `${moW}px`;
            moEl.style.height = `${moH}px`;
        }
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    ['pcLeft', 'pcTop', 'pcW', 'pcGap', 'moLeft', 'moTop', 'moW', 'moGap'].forEach(id => {
        document.getElementById(id).addEventListener('input', updateLayout);
    });

    // ì´ˆê¸° ì‹¤í–‰
    updateLayout();
</script>
</body>
</html>
